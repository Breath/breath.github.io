(this.webpackJsonpviewer=this.webpackJsonpviewer||[]).push([[0],{57:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),o=a.n(l),i=a(10),c=(a(56),a(57),a(17)),s=a(5),u=a(65),m=a(66),p=function(){return r.a.createElement(u.a,null,r.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(u.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{as:c.b,to:"/"},"Home")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{as:c.b,to:"/sites"},"Sites")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{as:c.b,to:"/about"},"About")))))},f=a(16),d=a(15),g=function(e,t){for(var a=t,n=0;n<e.length;n++)a=a[e[n]];return a},E=function(e){var t=e.split("."),a=t[t.length-1];return["mp4","webm"].includes(a)?"video":"gif"===a?"gif":"swf"===a?"flash":"image"},h=a(23),b={e621:{name:"e621",display:"e621",tags:["furry","nsfw"],url:{base:"https://e621.net",post:"https://e621.net/posts.json",params:{tags:"tags",page:"page",limit:"limit"}},posts:["posts"],file:{post:["id"],preview:["preview","url"],full:["file","url"]}},danbooru:{name:"danbooru",display:"Danbooru",tags:["anime","nsfw"],url:{base:"https://danbooru.donmai.us",post:"https://danbooru.donmai.us/posts.json",params:{tags:"tags",page:"page",limit:"limit"}},posts:[],file:{post:["id"],preview:["preview_file_url"],full:["file_url"]}}},v={posts:[],config:"e621"};var y=Object(h.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"config/modify":return Object(d.a)(Object(d.a)({},e),{},{config:t.payload});case"posts/set":return Object(d.a)(Object(d.a)({},e),{},{posts:t.payload});default:return e}})),j=function(e){var t=Object(i.c)((function(e){return e.config})),a=b[t],l=g(a.file.full,e.post),o=Object(n.useState)(l?{error:!1,post:g(a.file.post,e.post),full:l,preview:g(a.file.preview,e.post),type:E(l),displayFull:!1}:{error:!0}),c=Object(f.a)(o,2),s=c[0],u=c[1];if(s.error)return null;return r.a.createElement("div",{className:"post"},r.a.createElement("img",{src:s.displayFull?s.full:s.preview,className:s.type,onClick:function(){if("image"===s.type||"gif"===s.type)if(s.displayFull){var e=window.open(s.full);e&&(e.opener=null)}else u(Object(d.a)(Object(d.a)({},s),{},{displayFull:!0}));else{var t=window.open(s.full,"_blank","noopener,noreferrer");t&&(t.opener=null)}},onMouseDown:function(e){if(1===e.button){var t=window.open(s.full);t&&(t.opener=null)}}}))},w=a(43),O=a(44),L=a(46),k=a(45),S=a(64),C=a(63),N=function(e){Object(L.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={tags:"rating:s",page:"1",limit:"25"},n}return Object(O.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(S.a,{id:"search-form",onSubmit:this.props.doSearch},r.a.createElement(S.a.Group,{controlId:"tags"},r.a.createElement(S.a.Label,null,"Tags"),r.a.createElement(S.a.Control,{name:"tags",type:"text",value:this.state.tags,onChange:function(t){return e.setState({tags:t.target.value})}})),r.a.createElement(S.a.Group,{controlId:"page"},r.a.createElement(S.a.Label,null,"Page"),r.a.createElement(S.a.Control,{name:"page",type:"number",value:this.state.page,onChange:function(t){return e.setState({page:t.target.value})}})),r.a.createElement(S.a.Group,{controlId:"limit"},r.a.createElement(S.a.Label,null,"Limit"),r.a.createElement(S.a.Control,{name:"limit",type:"number",value:this.state.limit,onChange:function(t){return e.setState({limit:t.target.value})}})),r.a.createElement(C.a,{variant:"primary",type:"submit"},"Search"))}}]),a}(r.a.Component),I=function(e){var t=Object(i.b)(),a=Object(n.useState)({error:null,hasSearched:!1,isLoaded:!1}),l=Object(f.a)(a,2),o=l[0],c=l[1],s=Object(i.c)((function(e){return e.posts})),u=Object(i.c)((function(e){return e.config}));return r.a.createElement("div",null,r.a.createElement(N,{doSearch:function(e){e.preventDefault(),c({hasSearched:!0,isLoaded:!1});var a=b[u];fetch(a.url.post+"?"+new URLSearchParams({tags:e.target.tags.value,page:e.target.page.value,limit:e.target.limit.value})).then((function(e){return e.json()})).then((function(e){c({isLoaded:!0,error:!1}),t({type:"posts/set",payload:g(a.posts,e)})}),(function(e){c({isLoaded:!0,error:!0}),t({type:"posts/set",payload:[]})}))}}),o.error&&r.a.createElement("div",{className:"error"},r.a.createElement("p",null,"Error: ",o.error.message)),!o.isLoaded&&o.hasSearched&&r.a.createElement("div",null,r.a.createElement("p",{className:"loading"},"Loading...")),o.isLoaded&&r.a.createElement("div",{id:"posts"},s.map((function(e){return r.a.createElement(j,{post:e})}))),o.isLoaded&&s.length<1&&!o.error&&r.a.createElement("div",{className:"error"},"No posts found."))},x=function(){return r.a.createElement(I,null)},F=a(67),_=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.config})),n=Object(F.a)(["site"]),l=Object(f.a)(n,2),o=l[0],c=l[1];void 0!==o.site&&o.site!==a&&t({type:"config/modify",payload:e.name});return r.a.createElement("div",{className:"card",onClick:function(a){t({type:"config/modify",payload:e.name}),c("site",e.name,{path:"/"})}},r.a.createElement("div",{className:"card-body"},a===e.name?r.a.createElement("h2",null,r.a.createElement("strong",null,e.config.display)," (selected)"):r.a.createElement("h2",null,e.config.display),r.a.createElement("p",null,e.config.tags.join(", "))))},A=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Sites"),r.a.createElement("p",null,"Choose which site to get posts from."),Object.keys(b).map((function(e,t){return r.a.createElement(_,{key:e,name:e,config:b[e]})})))},B=function(){return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("h1",null,"Blacklist"),r.a.createElement("p",null,"Choose which tags you want to block from your search, either individually or from a group."))},D="\u014ckami",G={github:"Breath"},U=function(){var e=G.github;return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("h1",null,"About"),r.a.createElement("p",null,r.a.createElement("strong",null,D)," is a simple, easy to use alternative to most image gallery's UI. Made using React by ",function(e,t){var a,n=null;switch(e){case"github":n="https://github.com/"+t}return r.a.createElement("span",null,r.a.createElement("strong",null,r.a.createElement("a",{href:n},"@",t))," on ",r.a.createElement("strong",null,(a=e).charAt(0).toUpperCase()+a.slice(1)))}("github",e),"."),r.a.createElement("h3",null,"v0.1.0"),r.a.createElement("ul",null,r.a.createElement("li",null,"Initial release")))},J=function(){return r.a.createElement(c.a,null,r.a.createElement(p,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:x}),r.a.createElement(s.a,{exact:!0,path:"/sites",component:A}),r.a.createElement(s.a,{exact:!0,path:"/blacklist",component:B}),r.a.createElement(s.a,{exact:!0,path:"/about",component:U})))};o.a.render(r.a.createElement(i.a,{store:y},r.a.createElement(J,null)),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.7dc76535.chunk.js.map